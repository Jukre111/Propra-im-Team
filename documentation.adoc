# Abschlussprojekt

## Grundsätzliches

* Pair-programming.
* Morgens Gruppenmeeting.
* Retrospektiv-Meeting am Ende der Woche.
* Kein TDD, aber Test möglichst zeitnah schreiben.
* In jeden Commit schreiben, welche zwei Leute das gemacht haben(Vorname).
* Aufgaben die aktuell bearbeitet werden, bitte in der Datei aufgabenverteilung.adoc
schreiben (mit Namen)


## Codeformatierung & Richtlinien

* commits im imperativ und auf englisch.
* Code auf englisch, CamelCase verwenden.
* Tabs werden verwendet.
* Checkstyle verwenden.

## Aufgaben:
* Login
* Travis
* Docker & Dockercompose
* Datenbank (Postgres)
* Benutzerkonto
* Suche (optional)
* Person anlegen
* Person bearbeiten
* Person löschen
* Artikel anlegen
* Artikel bearbeiten
* Artikel löschen
* Schnittstelle zu ProPay

## Model Datenstrukturen
* User
. username : String (id)
. password : String
. role : String
. lastname : String
. forename : String
. email : String
. birthdate : LocalDate
. address : Address
. borrowedItems : List<Item>

Wir haben uns entschieden den username als Id zu benutzen, da wir sowieso verlangen
wollen, dass jeder Nutzer einen anderen Username hat. Die Items, die dem User
gehoeren werden hier nicht gespeichert, stattdessen wird in jedem Item der Besitzer
vermerkt.

* Item
. id : Long
. name : String
. description : String
. rental : int
. deposit : int
. startdate : LocalDate
. enddate : LocalDate
. lender : User
* Address (Embeddable)
. street : String
. city : String
. postcode : int
* Message
. id : Long (ID)
. sender : User
. receiver : User
. item : Item
. subject : String
. message : String

## Erläuterung der Model Datenstruktur
* User:
. Jeder Benutzer der Website wird als Objekt von User gespeichert.
. Die ID der User-Klasse ist der username, d.h. er kann nur von einem Account verwendet werden.
* Address:
. Jede Adresse eines Benutzers wird als Objekt der Klasse Address im User gespeichert.
. Adress ist embeddable, damit Benutzer mit derselben Adresse diese speichern können.
* Item:
. Jeder zur Vermietung eingestellte Artikel wird als Objekt der Klasse Item gespeichert.
. Die ID wird automatisch generiert, um die Artikel eindeutig voneinannder unterscheiden zu können.
* Message:
. Jede Nachricht (User -> User oder System -> User) wird als Objekt der Klasse Message gespeichert.
. Die ID wird automatisch generiert und ist eindeutig.
. Jede Nachricht ist dem Artikel zugeordnet um den es geht.

## Datenbank fuellen
Da die Registrierung optional ist, speichern wir beim Starten des Programms ueber
den DatabaseInitializer mehrere User und Items in der Datenbank. Falls spaeter noch
Zeit ist, implementieren wir die Registrierung und aendern dies.


## Struktur der Website
* Base-Site
. Banner
* BaseWithSearchBar-Site
. Banner
. Nachrichten (Button)
. Account (Button)
. Suche in Angebote (Suchfeld -> Button los)
* Login-Site
. Benutzername (Input)
. Passwort (Input)
. Einloggen (Button)
. Registrieren (Link)
* Index-Site
. BaseWithSearchBar
. Liste Angebote (Details anfordern -> Button)
. Angebotliste (Anfrage auf Details -> Button)
* Account-Site
. BaseWithSearchBar
. Artikel einstellen (Button)
. Liste verliehener Items (bearbeiten, loeschen -> Buttons)
. Liste geliehener Items (abgeben -> Button)
. Clearing Stelle (Button)
* Mailbox-Site
. BaseWithSearchBar
. Liste an erhaltenen Nachrichten
. Nachricht anzeigen (Button pro Nachricht)
. E-mail schreiben (Button)
* DisplayMessage-Site
. BaseWithSearchBar
. Sender (Text)
. Betreff (Text)
. Inhalt (Text)
* WriteMessage-Site
. BaseWithSearchBar
. Empfängerfeld (Input)
. Itemauswahl (DropList)
. Betreff (Input)
. Inhalt (Input)
. Abbrechen (Button)
. Senden (Button)


## Erläuterung der Website Struktur
* Login:
. Wird aufgerufen, wenn man noch nicht eingeloggt ist.
. Man wird auch hierherweitergeleitet, solang man nicht eingeloggt ist.
* localhost:8080/
. öffnet index.html
* localhost:8080/account
. Öffnet account.html mit Daten des Nutzers.
* localhost:8080/details
. Wenn Item existiert/gefunden wird, wird details.html mit den Daten des Items geöffnet.
. Sonst wird eine RuntimeException geworfen.
* localhost:8080/newItem
. Öffnet newItem.html
